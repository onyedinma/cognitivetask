<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cognitive Task - Shape Counting</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        // Global helper functions for Task 7
        function debugSubmitTask7() {
            console.log('Debug submit function called directly from HTML');
            // Direct reference to the module
            if (typeof Task7Module !== 'undefined') {
                Task7Module.evaluateMainResponse();
            } else {
                console.error('Task7Module is not defined!');
                alert('Error: Task7Module not found. Please refresh the page and try again.');
            }
        }
        
        function task7SubmitPracticeAnswer() {
            console.log('Practice submit function called directly from HTML');
            // Direct reference to the module
            if (typeof Task7Module !== 'undefined') {
                Task7Module.evaluatePracticeResponse();
            } else {
                console.error('Task7Module is not defined!');
                alert('Error: Task7Module not found. Please refresh the page and try again.');
            }
        }

        // Task 8 helper functions
        function debugSubmitTask8() {
            if (typeof Task8Module !== 'undefined') {
                Task8Module.evaluateMainResponse();
            } else {
                console.error('Task8Module is not defined!');
                alert('Error: Task8Module not found. Please refresh the page and try again.');
            }
        }
        
        function task8SubmitPracticeAnswer() {
            if (typeof Task8Module !== 'undefined') {
                Task8Module.evaluatePracticeResponse();
            } else {
                console.error('Task8Module is not defined!');
                alert('Error: Task8Module not found. Please refresh the page and try again.');
            }
        }

        // Function to display the digit sequence one at a time
        // Parameters:
        // - sequence: array of digits to display
        // - index: current position in sequence
        // - mode: 'forward' or 'backward' to determine display behavior
        // Uses setTimeout to create timing between digits (1000ms display, 500ms gap)

        // Function to show the appropriate response screen based on mode
        // Parameters:
        // - mode: 'forward' or 'backward' to determine which screen to show
        // Sets up input field and submit button with appropriate event listeners
        // Handles both button click and Enter key submission

        // Function to validate user's digit response
        // Parameters:
        // - mode: 'forward' or 'backward' to determine validation rules
        // Compares user input with expected sequence (reversed for backward mode)
        // Shows results screen with feedback
    </script>
</head>
<body>
    <div class="container">
        <!-- Screen 1: Fullscreen Prompt -->
        <div id="fullscreen-prompt" class="screen">
            <p>Press the button below to switch to full screen mode.</p>
            <button id="fullscreenButton">Continue</button>
        </div>

        <!-- Screen 2: Student ID -->
        <div id="student-id" class="screen hidden">
            <p>Enter the participant's student ID:</p>
            <input type="text" id="studentIdInput">
            <button id="studentIdButton">Continue</button>
        </div>

        <!-- Screen 3: Counter Balance -->
        <div id="counter-balance" class="screen hidden">
            <p>Select the counter-balance scheme for this session:</p>
            <div class="button-group">
                <button class="scheme-button" data-scheme="1">1</button>
                <button class="scheme-button" data-scheme="2">2</button>
                <button class="scheme-button" data-scheme="3">3</button>
                <button class="scheme-button" data-scheme="4">4</button>
                <button class="scheme-button" data-scheme="5">5</button>
                <button class="scheme-button" data-scheme="6">6</button>
                <button class="scheme-button" data-scheme="7">7</button>
                <button class="scheme-button" data-scheme="8">8</button>
            </div>
        </div>

        <!-- Digit Span Task Intro -->
        <div id="digit-span-intro" class="screen hidden">
            <h2>Digit Span Task</h2>
            <div id="digit-span-instructions">
                <p>In this task, you will be shown a series of digits one at a time.</p>
                <p>You can choose to practice either:</p>
                <ul>
                    <li><strong>Forward Digit Span:</strong> Recall digits in the SAME order</li>
                    <li><strong>Backward Digit Span:</strong> Recall digits in REVERSE order</li>
                </ul>
                <p>Select which version you would like to try:</p>
            </div>
            <div class="button-container">
                <button id="forwardDigitSpanButton" class="button" onclick="showScreen('digit-span-example');">Forward Digit Span</button>
                <button id="backwardDigitSpanButton" class="button" onclick="showScreen('digit-span-backward-example');">Backward Digit Span</button>
            </div>
        </div>

        <!-- Forward Digit Span Example -->
        <div id="digit-span-example" class="screen hidden">
            <h2>Forward Digit Span Task</h2>
            <p>In this task, you will be shown a series of digits one at a time.</p>
            <p>Your task is to remember and recall the digits in the <span class="important">SAME ORDER</span> as they appeared.</p>
            <p>For example, if you see:</p>
            
            <div class="example-digits">
                <div class="example-digit">7</div>
                <div class="example-digit">9</div>
                <div class="example-digit">3</div>
            </div>
            
            <p>You should type: <span class="important">793</span></p>
            <p>You will start with practice trials to help you understand the task.</p>
            
            <button id="startDigitSpanPracticeButton" class="button" onclick="window.directStartDigitSpanPractice(); return false;">Start Practice</button>
            </div>
            
        <!-- Backward Digit Span Example -->
        <div id="digit-span-backward-example" class="screen hidden">
            <h2>Backward Digit Span Task</h2>
            <p>In this task, you will be shown a series of digits one at a time.</p>
            <p>Your task is to remember and recall the digits in <span class="important">REVERSE ORDER</span> from how they appeared.</p>
            <p>For example, if you see:</p>
            
            <div class="example-digits">
                <div class="example-digit">1</div>
                <div class="example-digit">3</div>
                <div class="example-digit">8</div>
            </div>
            
            <p>You should type: <span class="important">831</span></p>
            <p>You will start with practice trials to help you understand the task.</p>
            
            <button id="startDigitSpanBackwardButton" class="button" onclick="window.directStartDigitSpanBackwardPractice(); return false;">Start Practice</button>
        </div>

        <!-- Digit Span Game Area -->
        <div id="digit-game-area" class="screen hidden">
            <div class="digit"></div>
        </div>

        <!-- Forward Digit Span Response Screen -->
        <div id="digit-span-response" class="screen hidden">
            <h2>Please type in the number in the correct order and press enter.</h2>
            <p>Do not leave spaces between the numbers.</p>
            
            <div class="response-input">
                <input type="text" id="digit-response" pattern="[0-9]*" inputmode="numeric" style="width: 200px; height: 40px; font-size: 24px; text-align: center; margin: 20px 0;">
            </div>
            
            <button id="submitDigitResponseButton" class="button" style="cursor: pointer; pointer-events: auto;">Submit</button>
        </div>

        <!-- Digit Span Results -->
        <div id="digit-span-results" class="screen hidden">
            <h2>Your response was:</h2>
            <p class="user-answer">You typed: <span id="user-digit-response"></span></p>
            <p class="correct-answer">Correct response: <span id="correct-digit-response"></span></p>
            
            <!-- Add feedback element -->
            <p id="digit-span-result-feedback" class="result-feedback"></p>
            
            <button id="nextDigitSpanButton">continue</button>
        </div>

        <!-- Forward Digit Span Complete -->
        <div id="forward-digit-span-complete" class="screen hidden">
            <h2>Great work!</h2>
            <p>You have completed the Forward Digit Span task.</p>
            <p>Now you will move on to the Backward Digit Span task.</p>
            <p>In this task, you will need to recall the digits in REVERSE order.</p>
            <p>For example, if you see: 1 2 3</p>
            <p>You should type: 3 2 1</p>
            <p>Click 'continue' to see an example of the Backward Digit Span task.</p>
            <button id="startBackwardDigitSpanButton">Continue</button>
        </div>

        <!-- Digit Span Complete -->
        <div id="digit-span-complete" class="screen hidden">
            <h2>Great work!</h2>
            <p>You have completed the Digit Span task.</p>
            <p>Click 'finish' to continue.</p>
            <button id="finishDigitSpanButton">Finish</button>
        </div>

        <!-- Counting Game Intro (for scheme 4) -->
        <div id="counting-game-intro" class="screen hidden">
            <h2>You will now play a Counting game.</h2>
            <p>In this game, you will see a series of pictures ($5 bill, UTA bus, and a face) one at a time. Your job is to keep a <span class="important">MENTAL count for each object</span>. You can keep count out loud or in your head, but please <span class="important">DO NOT use your fingers or a pencil/pen and paper</span> to count.</p>
            <p>After you see each object series, you will be asked to report the number of each type of object you saw in the series.</p>
            <p>Click 'continue' to see an example.</p>
            <button id="countingGameIntroButton">continue</button>
        </div>

        <!-- Counting Game Example -->
        <div id="counting-game-example" class="screen hidden">
            <h2>In this example, let's say you see the following series of objects:</h2>
            
            <div class="example-objects">
                <img src="dollarmanbus/5dollar.jpg" alt="$5 bill" class="example-object">
                <img src="dollarmanbus/bus.jpg" alt="UTA bus" class="example-object">
                <img src="dollarmanbus/face.jpg" alt="Face" class="example-object">
                <img src="dollarmanbus/bus.jpg" alt="UTA bus" class="example-object">
                <img src="dollarmanbus/5dollar.jpg" alt="$5 bill" class="example-object">
            </div>
            
            <h2>In this example, the correct count number for each object would be:</h2>
            
            <div class="example-counts">
                <p><strong>Bills: <span class="important">2</span></strong></p>
                <p><strong>Buses: <span class="important">2</span></strong></p>
                <p><strong>Faces: <span class="important">1</span></strong></p>
            </div>
            
            <p>Click the 'continue' button to practice the <strong>Counting</strong> game.</p>
            
            <div class="button-group">
                <button id="countingGoBackButton">go back</button>
                <button id="startCountingPracticeButton">continue</button>
            </div>
        </div>

        <!-- Screen 4: Welcome -->
        <div id="welcome" class="screen hidden">
            <h1>Welcome!</h1>
            <p>Please wait for instructions from the researcher.</p>
            <button id="welcomeButton">continue</button>
        </div>

        <!-- Screen 5: Instructions -->
        <div id="instructions" class="screen hidden">
            <h2>Now you will play a <span class="highlight">Shape Counting</span> game.</h2>
            <p>You will see a series of shapes (squares, triangles, and circles) one at a time. Your job is to keep a <span class="important">MENTAL count for each type of shape</span>. You can keep count out loud or in your head, but please <span class="important">DO NOT use your fingers or a pencil/pen and paper</span> to count.</p>
            <p>After you see each shape series, you will be asked <span class="important">how many of each type of shape</span> you saw.</p>
            <p>Click 'continue' to see an example.</p>
            <button id="instructionsButton">continue</button>
        </div>

        <!-- Screen 6: Example -->
        <div id="example" class="screen hidden">
            <h2>In this example, let's say you see the following series of shapes:</h2>
            
            <div class="example-shapes">
                <div class="example-shape circle"></div>
                <div class="example-shape square"></div>
                <div class="example-shape triangle"></div>
                <div class="example-shape triangle"></div>
                <div class="example-shape square"></div>
                <div class="example-shape triangle"></div>
            </div>
            
            <h2>In this example, the correct count number for each shape would be:</h2>
            
            <div class="example-counts">
                <p><strong>Squares: <span class="important">2</span></strong></p>
                <p><strong>Triangles: <span class="important">3</span></strong></p>
                <p><strong>Circles: <span class="important">1</span></strong></p>
            </div>
            
            <p>Click the 'continue' button to practice the <strong>Shape Counting</strong> game.</p>
            
            <div class="button-group">
                <button id="goBackButton">go back</button>
                <button id="startPracticeButton">continue</button>
            </div>
        </div>

        <!-- Game Area - Complete redesign -->
        <div id="game-area" class="screen hidden">
            <div class="shape"></div>
        </div>

        <!-- Answer Form - Updated without radio buttons -->
    <div id="answer-form" class="screen hidden">
            <h2>How many of each shape did you count?</h2>
            
        <div class="question">
                <p>Squares:</p>
                <div class="number-input">
                    <button class="decrement" data-target="square-count">-</button>
                    <input type="number" id="square-count" min="0" max="9" value="0">
                    <button class="increment" data-target="square-count">+</button>
                </div>
            </div>
            
            <div class="question">
                <p>Triangles:</p>
                <div class="number-input">
                    <button class="decrement" data-target="triangle-count">-</button>
                    <input type="number" id="triangle-count" min="0" max="9" value="0">
                    <button class="increment" data-target="triangle-count">+</button>
            </div>
        </div>
        
        <div class="question">
                <p>Circles:</p>
                <div class="number-input">
                    <button class="decrement" data-target="circle-count">-</button>
                    <input type="number" id="circle-count" min="0" max="9" value="0">
                    <button class="increment" data-target="circle-count">+</button>
                </div>
            </div>
            
            <button id="submitAnswersButton">continue</button>
        </div>

        <!-- Counting Game Answer Form -->
        <div id="counting-answer-form" class="screen hidden">
            <h2>How many of each object did you count?</h2>
        
        <div class="question">
                <p>$5 Bills:</p>
                <div class="number-input">
                    <button class="decrement" data-target="bill-count">-</button>
                    <input type="number" id="bill-count" min="0" max="9" value="0">
                    <button class="increment" data-target="bill-count">+</button>
                </div>
            </div>
            
            <div class="question">
                <p>UTA Buses:</p>
                <div class="number-input">
                    <button class="decrement" data-target="bus-count">-</button>
                    <input type="number" id="bus-count" min="0" max="9" value="0">
                    <button class="increment" data-target="bus-count">+</button>
            </div>
        </div>
        
            <div class="question">
                <p>Faces:</p>
                <div class="number-input">
                    <button class="decrement" data-target="face-count">-</button>
                    <input type="number" id="face-count" min="0" max="9" value="0">
                    <button class="increment" data-target="face-count">+</button>
                </div>
    </div>

            <button id="submitCountingAnswersButton">continue</button>
        </div>

        <!-- Results -->
    <div id="results" class="screen hidden">
        <h2>The correct number of each shape was:</h2>
        <p>Squares: <span id="correct-squares"></span></p>
        <p>Triangles: <span id="correct-triangles"></span></p>
        <p>Circles: <span id="correct-circles"></span></p>
        
        <h3>Your answers:</h3>
        <p class="user-answer">Squares: <span id="user-squares"></span></p>
        <p class="user-answer">Triangles: <span id="user-triangles"></span></p>
        <p class="user-answer">Circles: <span id="user-circles"></span></p>
        
            <button id="nextRoundButton">continue</button>
        </div>

        <!-- Counting Game Results -->
        <div id="counting-results" class="screen hidden">
            <h2>The correct number of each object was:</h2>
            <p>$5 Bills: <span id="correct-bills"></span></p>
            <p>UTA Buses: <span id="correct-buses"></span></p>
            <p>Faces: <span id="correct-faces"></span></p>
            
            <h3>Your answers:</h3>
            <p class="user-answer">$5 Bills: <span id="user-bills"></span></p>
            <p class="user-answer">UTA Buses: <span id="user-buses"></span></p>
            <p class="user-answer">Faces: <span id="user-faces"></span></p>
            
            <button id="nextCountingRoundButton">continue</button>
    </div>

        <!-- Practice Complete Prompt -->
    <div id="practice-complete-prompt" class="screen hidden">
        <p>Would you like to practice the Shape Counting game again?</p>
        <div class="button-group">
                <button id="readyToContinueButton">No, I am ready to continue</button>
                <button id="practiceAgainButton">Yes, practice again</button>
            </div>
        </div>

        <!-- Counting Game Practice Complete Prompt -->
        <div id="counting-practice-complete-prompt" class="screen hidden">
            <p>Would you like to practice the Counting game again?</p>
            <div class="button-group">
                <button id="countingReadyToContinueButton">No, I am ready to continue</button>
                <button id="countingPracticeAgainButton">Yes, practice again</button>
        </div>
    </div>

        <!-- Real Game Instructions -->
    <div id="real-game-instructions" class="screen hidden">
        <h2>Great job!</h2>
        <p>You are now finished practicing the Shape Counting game.</p>
        <p>Next, you will play the actual game.</p>
        <ul>
                <li>The series will be <span class="important">longer</span> in the real game than in the practice round.</li>
                <li><span class="important">Remember to keep a running count</span> of each type of shape you see.</li>
            </ul>
            <p>You will play <span class="important">5 rounds</span> of the game. From now on you will <span class="important">not receive feedback</span> after each round.</p>
            <p>Click the button below to begin.</p>
            <button id="startRealGameButton">Start</button>
        </div>

        <!-- Counting Game Real Game Instructions -->
        <div id="counting-real-game-instructions" class="screen hidden">
            <h2>Great job!</h2>
            <p>You are now finished practicing the Counting game.</p>
            <p>Next, you will play the actual game.</p>
            <ul>
                <li>The series will be <span class="important">longer</span> in the real game than in the practice round.</li>
                <li><span class="important">Remember to keep a running count</span> of each type of object you see.</li>
        </ul>
            <p>You will play <span class="important">5 rounds</span> of the game. From now on you will <span class="important">not receive feedback</span> after each round.</p>
        <p>Click the button below to begin.</p>
            <button id="startCountingRealGameButton">Start</button>
    </div>

        <!-- Round Start -->
    <div id="round-start" class="screen hidden">
        <h2>You are about to start round <span id="round-number"></span>.</h2>
        <p>Click start when you are ready!</p>
            <button id="beginRoundButton">Start</button>
    </div>

        <!-- Game Complete -->
    <div id="game-complete" class="screen hidden">
        <h2>Great work!</h2>
        <p>You are now finished playing this game.</p>
        <p>Click 'finish' to continue.</p>
            <button id="finishGameButton">Finish</button>
        </div>

        <!-- Digit Span Real Game Instructions -->
        <div id="digit-span-real-game-instructions" class="screen hidden">
            <h2>Great job!</h2>
            <p>You are now finished practicing the Digit Span games.</p>
            <p>Next, you will play the actual game.</p>
            <ul>
                <li>The sequences will be <span class="important">longer</span> in the real game than in the practice rounds.</li>
                <li><span class="important">Remember to pay close attention</span> to each digit in the sequence.</li>
                <li>For forward digit span, type the digits in the <span class="important">same order</span> as you saw them.</li>
                <li>For backward digit span, type the digits in the <span class="important">reverse order</span> from how you saw them.</li>
            </ul>
            <p>You will play <span class="important">5 rounds</span> of each game. From now on you will <span class="important">not receive feedback</span> after each round.</p>
            <p>Click the button below to begin.</p>
            <button id="startDigitSpanRealGameButton" class="button" onclick="window.directStartDigitSpanRealGame(); return false;">Start Main Task</button>
        </div>

        <!-- Pattern Recognition Game Intro (for scheme 1) -->
        <div id="pattern-recognition-intro" class="screen hidden">
            <h2>You will now play a Pattern Recognition game.</h2>
            <p>In this game, you will see different types of patterns and relationships.</p>
            <p>Your task is to identify the correct patterns, relationships, or complete sequences based on what you've seen.</p>
            <p>Click 'continue' to see an example.</p>
            <button id="patternRecognitionIntroButton">continue</button>
        </div>
        
        <!-- Pattern Recognition Example -->
        <div id="pattern-recognition-example" class="screen hidden">
            <h2>Example:</h2>
            <div class="example-container">
                <div class="pattern-example">
                    <p>Sequence: 8 A Z 5 5 3</p>
                    <p>Your task: Memorize and recall this sequence.</p>
                </div>
                <div class="pattern-example">
                    <p>Word Relationship:</p>
                    <p>Teacher – Doctor</p>
                    <p>Your task: Identify if these belong to the same category.</p>
                </div>
            </div>
            <p>In the real game, you'll see different patterns and will need to either:</p>
            <ul>
                <li>Identify correct relationships</li>
                <li>Match objects to categories</li>
                <li>Recall sequences from memory</li>
                <li>Recognize visual patterns</li>
            </ul>
            <button id="startPatternPracticeButton">Start Practice</button>
        </div>
        
        <!-- Pattern Recognition Game Area -->
        <div id="pattern-game-area" class="screen hidden">
            <div class="pattern-content">
                <!-- Content will be dynamically inserted here -->
            </div>
            <div class="response-area">
                <!-- Response options will be dynamically inserted here -->
            </div>
        </div>
        
        <!-- Pattern Recognition Answer Form -->
        <div id="pattern-answer-form" class="screen hidden">
            <h2>Your Response</h2>
            <div id="pattern-response-container">
                <!-- Will be dynamically populated based on task type -->
            </div>
            <button id="submitPatternAnswerButton">continue</button>
        </div>
        
        <!-- Pattern Recognition Results -->
        <div id="pattern-results" class="screen hidden">
            <h2>Results:</h2>
            <div id="pattern-feedback">
                <!-- Will be dynamically populated with feedback -->
            </div>
            <button id="nextPatternRoundButton">continue</button>
        </div>
        
        <!-- Pattern Recognition Real Game Instructions -->
        <div id="pattern-recognition-real-intro" class="screen hidden">
            <h2>Great job!</h2>
            <p>You are now finished practicing the Pattern Recognition game.</p>
            <p>Next, you will play the actual game.</p>
            <ul>
                <li>The patterns will be <span class="important">more complex</span> in the real game.</li>
                <li><span class="important">Pay close attention</span> to the details of each pattern.</li>
                <li>Try to identify the underlying relationships and rules.</li>
            </ul>
            <p>You will play <span class="important">5 rounds</span> of the game.</p>
            <p>Click the button below to begin.</p>
            <button id="startPatternRealGameButton">Start</button>
        </div>

        <!-- Working Memory Updating Task 1a: Abstract Version -->
        <div id="task-1a-intro" class="screen hidden">
            <h2>Working Memory Updating - Abstract Version</h2>
            <p>In this task, you will see sequences of numbers and will need to update them mentally.</p>
            <button id="startTask1aPracticeButton">Start Practice</button>
        </div>

        <!-- Working Memory Updating Task 1b: Ecological Version -->
        <div id="task-1b-intro" class="screen hidden">
            <h2>Working Memory Updating - Ecological Version</h2>
            <p>In this task, you will track items in a shopping list instead of numbers.</p>
            <button id="startTask1bPracticeButton">Start Practice</button>
        </div>

        <!-- Working Memory Capacity Task 2a: Abstract Version -->
        <div id="task-2a-intro" class="screen hidden">
            <h2>Working Memory Capacity - Abstract Version</h2>
            <p>In this task, you will recall sequences of numbers in forward and backward conditions.</p>
            <button id="startTask2aPracticeButton">Start Practice</button>
        </div>

        <!-- Working Memory Capacity Task 2b: Ecological Version -->
        <div id="task-2b-intro" class="screen hidden">
            <h2>Working Memory Capacity - Ecological Version</h2>
            <p>In this task, you will recall sequences of real-world objects.</p>
            <button id="startTask2bPracticeButton">Start Practice</button>
        </div>

        <!-- Spatial Working Memory Task Intro (for scheme 5) -->
        <div id="spatial-memory-intro" class="screen hidden">
            <h2>Spatial Working Memory Task</h2>
            <p>In this task, you will be shown a grid containing various colored shapes.</p>
            <p>Your job is to <span class="important">MEMORIZE the exact location</span> of each shape.</p>
            <p>After studying the shapes, you will be shown a second grid where some shapes may have <span class="important">moved from their original positions</span>.</p>
            <p>The <span class="important">same shapes</span> will appear in both grids - only their <span class="important">positions</span> will change. No shapes will be replaced with different shapes.</p>
            <p>You will need to identify which shapes have moved by clicking on them.</p>
            <ul>
                <li>For each shape you correctly identify as having moved, you will gain <span class="important">one point</span>.</li>
                <li>For each shape you incorrectly identify as having moved, you will lose <span class="important">one point</span>.</li>
            </ul>
            <p>Click 'continue' to practice with a smaller example first.</p>
            <button id="spatialMemoryIntroButton">continue</button>
        </div>

        <!-- Spatial Memory Practice Instructions -->
        <div id="spatial-memory-practice-instructions" class="screen hidden">
            <h2>Practice Session</h2>
            <p>Let's practice with a small example first.</p>
            <p>You will see a grid with 5 shapes for <span class="important">30 seconds</span>. Try to remember the position of each shape.</p>
            <p>Then you'll be shown a second grid with the <span class="important">exact same shapes</span>, but some shapes may have changed position.</p>
            <p>Your task is to click on <span class="important">ALL shapes that have changed position</span>. Remember:</p>
            <ul>
                <li>When a shape moves to a new position, it <span class="important">swaps places</span> with another shape</li>
                <li>This means for each swap, you need to identify <span class="important">BOTH shapes</span> that changed positions</li>
                <li>The shapes themselves do not change - only their positions</li>
            </ul>
            <p>You can click the "I'm ready" button at any time if you feel you've memorized the positions before the timer ends.</p>
            <button id="startSpatialPracticeButton">Start Practice</button>
        </div>

        <!-- Spatial Memory Grid Display -->
        <div id="spatial-memory-grid" class="screen hidden">
            <h2 id="spatial-grid-title">Study the positions of these shapes</h2>
            <p id="spatial-timer">Time remaining: 90 seconds</p>
            <div class="grid-container">
                <!-- Grid will be dynamically populated -->
            </div>
        </div>

        <!-- Spatial Memory Response Grid -->
        <div id="spatial-memory-response" class="screen hidden">
            <h2>Click on all shapes that have MOVED from their original positions</h2>
            <p>Remember:</p>
            <ul>
                <li>When shapes swap positions, you need to identify <span class="important">BOTH shapes</span> involved in the swap</li>
                <li>Only the <span class="important">positions</span> have changed - the shapes themselves are the same</li>
            </ul>
            <div class="grid-container clickable">
                <!-- Grid will be dynamically populated -->
            </div>
            <button id="submitSpatialResponseButton">Submit Answers</button>
        </div>

        <!-- Spatial Memory Practice Results -->
        <div id="spatial-memory-practice-results" class="screen hidden">
            <h2>Practice Results</h2>
            <p>Great job! Now you understand how the task works.</p>
            <p id="practice-accuracy"></p>
            <p>In the main task, you'll see a larger grid with more shapes.</p>
            <button id="startSpatialRealButton">Start Main Task</button>
        </div>

        <!-- Spatial Memory Real Instructions -->
        <div id="spatial-memory-real-instructions" class="screen hidden">
            <h2>Main Task</h2>
            <p>Now you'll see a grid with 20 different colored shapes.</p>
            <p>You will have <span class="important">90 seconds</span> to study the grid.</p>
            <p>Try to remember the exact position of each shape.</p>
            <p>After the study period, you'll see a second grid with the <span class="important">same shapes</span> but in different positions.</p>
            <p>Remember:</p>
            <ul>
                <li>When shapes swap positions, you must identify <span class="important">BOTH shapes</span> involved in the swap</li>
                <li>Only the <span class="important">positions</span> of shapes change, not the shapes themselves</li>
                <li>For each shape you correctly identify as having moved, you gain <span class="important">one point</span></li>
                <li>For each shape you incorrectly identify as having moved, you lose <span class="important">one point</span></li>
                <li>You can click "I'm ready" after 10 seconds if you feel you've memorized the positions</li>
            </ul>
            <p><span class="important">Note:</span> This is the main task with a new timer separate from the practice session.</p>
            <button id="startSpatialMainButton">Begin</button>
        </div>

        <!-- Spatial Memory Results -->
        <div id="spatial-memory-results" class="screen hidden">
            <h2>Results</h2>
            <p>Task completed!</p>
            <p>Correct identifications: <span id="spatial-correct-count"></span></p>
            <p>Incorrect identifications: <span id="spatial-incorrect-count"></span></p>
            <p>Total score: <span id="spatial-total-score"></span></p>
            <button id="finishSpatialTaskButton">Finish</button>
        </div>

        <!-- Deductive Reasoning Task 4a: Abstract Version -->
        <div id="task-4a-intro" class="screen hidden">
            <h2>Deductive Reasoning - Abstract Version</h2>
            <p>In this task, you will solve logical puzzles using abstract concepts.</p>
            <button id="startTask4aPracticeButton">Start Practice</button>
        </div>

        <!-- Deductive Reasoning Task 4b: Ecological Version -->
        <div id="task-4b-intro" class="screen hidden">
            <h2>Deductive Reasoning - Ecological Version</h2>
            <p>In this task, you will solve logical puzzles using real-world rules.</p>
            <button id="startTask4bPracticeButton">Start Practice</button>
    </div>

        <!-- Working Memory Capacity (Ecological) Intro -->
        <div id="object-span-intro" class="screen hidden">
            <h2 id="object-span-title">Object Span Task</h2>
            <div id="object-span-instructions">
                <p>In this task, you will be shown a series of objects one at a time.</p>
                <p id="recall-instruction">Your task is to remember and recall the objects in the <span class="mode-text">SAME</span> ORDER as they appeared.</p>
                <p>For example, if you see: bread → car → book</p>
                <p id="example-instruction">You should type: "bread car book"</p>
                <p>You will start with practice trials to help you understand the task.</p>
            </div>
            <div class="button-container">
                <button id="startObjectSpanPracticeButton" class="button">Start Practice</button>
            </div>
        </div>

        <!-- Object Span Example Screen -->
        <div id="object-span-example" class="screen hidden">
            <h2>Forward Object Span Task</h2>
            <p>In this task, you will be shown a series of objects one at a time.</p>
            <p>Your task is to remember and recall the objects in the <span class="important">SAME ORDER</span> as they appeared.</p>
            <p>For example, if you see: bread → car → book</p>
            <p>You should type: "bread car book"</p>
            <p>You will start with practice trials to help you understand the task.</p>
            <button id="startForwardObjectSpanButton" class="button" onclick="window.directStartObjectSpanPractice(); return false;">Start Practice</button>
        </div>

        <!-- Object Span Backward Example -->
        <div id="object-span-backward-example" class="screen hidden">
            <h2>Backward Object Span Task</h2>
            <p>In this task, you will be shown a series of objects one at a time.</p>
            <p>Your task is to remember and recall the objects in <span class="important">REVERSE ORDER</span> from how they appeared.</p>
            <p>For example, if you see this sequence:</p>
            <div class="example-container">
                <img src="images/Bread.png" alt="Bread" class="example-object">
                <img src="images/Car.png" alt="Car" class="example-object">
                <img src="images/Shoe.png" alt="Shoe" class="example-object">
            </div>
            <p>You should type: "shoe car bread"</p>
            <p>Let's practice with the backward version.</p>
            <button id="startBackwardObjectSpanButton" class="button" onclick="window.directStartObjectSpanBackwardPractice(); return false;">Start Practice</button>
        </div>

        <!-- Object Game Area -->
        <div id="object-game-area" class="screen hidden">
            <div class="object-display-container">
                <div class="object-display">
                    <!-- Objects will be displayed here -->
                </div>
            </div>
            <div id="object-debug" style="position: fixed; bottom: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 5px; font-size: 12px; max-width: 300px; z-index: 1000;">
                Debug: Waiting for object display...
            </div>
        </div>

        <!-- Object Span Response Form -->
        <div id="object-span-response" class="screen hidden">
            <div class="response-instruction">
                <p id="recall-instruction">Type the objects in the <span class="mode-text"></span> order</p>
            </div>
            <input type="text" id="object-response-input" class="response-input" style="width: 80%; max-width: 500px; padding: 10px; margin: 20px;" autocomplete="off" placeholder="Type the object names here...">
            <button id="submitObjectResponseButton" class="button">Submit</button>
        </div>

        <div id="object-span-practice-feedback" class="screen hidden">
            <h2>Practice Feedback</h2>
            <p id="practice-feedback-text"></p>
            <div class="sequence-info">
                <p>Your response: <span id="user-response"></span></p>
                <p>Expected response: <span id="expected-response"></span></p>
                <p class="recall-mode-reminder">
                    <strong>Remember:</strong> 
                    <span id="recall-mode-instruction">
                        Type the objects in the <span class="mode-text"></span> order as shown
                    </span>
                </p>
            </div>
            <p id="practice-score"></p>
            <div class="practice-controls">
                <button id="continuePracticeButton-object" class="button" onclick="window.directContinueObjectSpanPractice(); return false;">Continue Practice</button>
                <button id="readyForMainTaskButton-object" class="button" onclick="window.directReadyForObjectSpanMainTask(); return false;">I'm Ready for Main Task</button>
            </div>
            </div>
            
        <div id="object-span-main-instructions" class="screen hidden">
            <h1>Main Task</h1>
            <p>Great! Now you'll begin the main task.</p>
            <p>The task consists of 8 rounds with increasing difficulty:</p>
            <ul>
                <li>Starting with sequences of 3 objects</li>
                <li>Each round increases by one object (up to 10 objects maximum)</li>
                <li>You'll have two attempts at each sequence length</li>
                <li>If you succeed at least once, you'll move to the next length</li>
                <li>If you fail both attempts, the task will end</li>
            </ul>
            <p>Your final score will be the longest sequence you correctly recalled.</p>
            <button id="startObjectSpanMainButton" class="button" onclick="window.directStartObjectSpanMainTask(); return false;">Start Main Task</button>
        </div>

        <div id="object-span-results" class="screen hidden">
            <h1>Task Complete</h1>
            <p>Maximum span reached: <span id="max-span-reached">0</span> (Final Score)</p>
            <p>Total correct sequences: <span id="total-correct-sequences">0</span></p>
            <button id="finishObjectSpanButton" class="button">Complete Task</button>
                    </div>

        <!-- Object Span Real Game Instructions -->
        <div id="object-span-real-game-instructions" class="screen hidden">
            <h2>Main Task Instructions</h2>
            <p>You will now begin the main task.</p>
            <ul>
                <li>You will see sequences of objects, one at a time</li>
                <li>Starting with 3 objects, the sequence will get longer as you progress</li>
                <li>You get two attempts at each sequence length</li>
                <li>If you succeed at least once, you'll move to a longer sequence</li>
                <li>If you fail both attempts, the task will end</li>
                <li>Your final score will be the longest sequence you correctly recalled</li>
            </ul>
            <div class="important-note">
                <p><strong>For Forward Recall:</strong> Type the object names in the SAME order as shown (e.g., "bread car book")</p>
                <p><strong>For Backward Recall:</strong> Type the object names in REVERSE order (e.g., if shown "bread car book", type "book car bread")</p>
                    </div>
            <button id="startObjectSpanRealGameButton" class="button">Start Main Task</button>
                    </div>

        <!-- Forward Object Span Intro Screen -->
        <div id="forward-object-span-intro" class="screen hidden">
            <h2>Forward Object Span Task</h2>
            <p>In this task, you will be shown a series of objects one at a time.</p>
            <p>Your task is to remember and recall the objects in the <span class="important">SAME ORDER</span> as they appeared.</p>
            <p>For example, if you see: bread → car → book</p>
            <p>You should type: "bread car book"</p>
            <p>You will start with practice trials to help you understand the task.</p>
            <button id="startForwardObjectSpanButton" class="button" onclick="window.directStartObjectSpanPractice(); return false;">Start Practice</button>
                    </div>

        <!-- Backward Object Span Intro Screen -->
        <div id="backward-object-span-intro" class="screen hidden">
            <h2>Backward Object Span Task</h2>
            <p>In this task, you will be shown a series of objects one at a time.</p>
            <p>Your task is to remember and recall the objects in <span class="important">REVERSE ORDER</span> from how they appeared.</p>
            <p>For example, if you see: bread → car → book</p>
            <p>You should type: "book car bread"</p>
            <p>You will start with practice trials to help you understand the task.</p>
            <button id="startBackwardObjectSpanButton" class="button" onclick="window.directStartObjectSpanBackwardPractice(); return false;">Start Practice</button>
                    </div>

        <div id="task-6-intro" class="screen hidden">
            <h1>Ecological Spatial Working Memory Task</h1>
            <p>In this task, you will see a grid of real-world object images. You need to remember the locations of these images.</p>
            <p>After studying the grid, some images will swap positions. Your job is to identify which images have moved from their original positions.</p>
            <p>First, you'll complete a short practice to get familiar with the task.</p>
            <button id="task6ContinueButton" class="task6-button">Continue</button>
                    </div>

        <div id="task-6-practice-instructions" class="screen hidden">
            <h1>Practice Instructions</h1>
            <p>In this practice, you will see a 3×2 grid with 6 images.</p>
            <p>Study the positions of these images carefully. After some time, one pair of images will swap positions.</p>
            <p>Your task is to identify which images have changed positions by clicking on them in the final grid.</p>
            <p>After the practice, you'll move on to the main task with a larger grid and more position changes.</p>
            <button id="startTask6GridButton" class="task6-button">Start Practice</button>
                    </div>

        <div id="task-6-grid" class="screen hidden">
            <h1>Study the Image Positions</h1>
            <p>Remember where each image is located. Some images will change positions shortly.</p>
            <div class="task6-grid-container"></div>
                    </div>

        <div id="task-6-response" class="screen hidden">
            <h1>Which Images Changed Positions?</h1>
            <p>Click on the images that have changed positions from the original grid.</p>
            <div class="task6-grid-container"></div>
            <button id="submitTask6ResponseButton" class="task6-button">Submit</button>
                    </div>

        <div id="task-6-practice-results" class="screen hidden">
            <h1>Practice Results</h1>
            <p></p>
            <button id="startTask6RealButton" class="task6-button">Start Main Task</button>
                </div>

        <div id="task-6-real-instructions" class="screen hidden">
            <h1>Main Task Instructions</h1>
            <p>Now you'll complete the main task. You will see a 5×4 grid with 20 images.</p>
            <p>Study the positions of these images carefully. After some time, three pairs of images will swap positions.</p>
            <p>Your task is to identify which images have changed positions by clicking on them in the final grid.</p>
            <p>You'll have 90 seconds to study the grid before the images swap positions.</p>
            <button id="startTask6RealButton" class="task6-button">Start Main Task</button>
            </div>

        <div id="task-6-results" class="screen hidden">
            <h1>Task Results</h1>
            <p>Correct identifications: <span id="task6-correct-count">0</span></p>
            <p>Incorrect identifications: <span id="task6-incorrect-count">0</span></p>
            <p>Total score: <span id="task6-total-score">0</span></p>
            <button id="completeTask6Button" class="task6-button" onclick="finishGame()">Complete Task</button>
        </div>

        <!-- Task 7: Deductive Reasoning Task -->
        <div id="task-7-intro" class="screen hidden">
            <h1>Deductive Reasoning Task</h1>
            <p>In this task, you will be asked to solve logical puzzles using four cards that will appear on the screen.</p>
            <p>Among the four cards presented, you will be required to identify which two cards to turn to test the logical premise presented in each question.</p>
            <p>In other words, in each game, there will be a simple rule, and all you have to do is work out which cards you need to turn over to see if the rule has been broken.</p>
            <button id="task7ContinueButton" class="task7-button">Continue</button>
        </div>

        <div id="task-7-instructions" class="screen hidden">
            <h1>Task Instructions</h1>
            <p>For each question:</p>
            <ol>
                <li>Read the logical rule carefully</li>
                <li>Look at the four cards presented</li>
                <li>Select exactly two cards that you need to turn over to test if the rule is true or false</li>
                <li>Click "Submit" when you've made your selection</li>
            </ol>
            <p>Let's start with a practice round to get familiar with the task.</p>
            <button id="startTask7PracticeButton" class="task7-button">Start Practice</button>
        </div>

        <div id="task-7-practice" class="screen hidden">
            <h1>Practice Round</h1>
            <div id="task7-question-container">
                <p id="task7-question-text">If a card has a circle on one side, then it has the color yellow on the other side.</p>
                <p>Select the two cards you need to turn over to test this rule:</p>
        </div>

            <div id="task7-cards-container" class="cards-container">
                <!-- Cards will be generated dynamically -->
        </div>

            <div id="task7-selection-info">
                <p>Selected cards: <span id="task7-selected-count">0</span>/2</p>
            </div>

            <button id="task7SubmitButton" class="task7-button" onclick="task7SubmitPracticeAnswer()" disabled>Submit</button>
            
            <!-- Extra direct submit button for practice as fallback -->
            <button id="task7DirectPracticeSubmitButton" class="task7-button" style="margin-top: 15px; background-color: #ff9800;" 
                    onclick="Task7Module.evaluatePracticeResponse();">
                Direct Submit (Use if regular button doesn't work)
            </button>
        </div>

        <div id="task-7-feedback" class="screen hidden">
            <h1>Feedback</h1>
            <div id="task7-feedback-container">
                <p id="task7-result-text"></p>
                <div id="task7-explanation"></div>
            </div>
            <button id="task7ContinueAfterFeedbackButton" class="task7-button">Continue</button>
        </div>

        <div id="task-7-real-instructions" class="screen hidden">
            <h1>Main Task Instructions</h1>
            <p>Now you'll complete the main task with several logical puzzles to solve.</p>
            <p>Remember to select exactly two cards for each question that you need to turn over to test the rule.</p>
            <p>Your performance will be recorded for each puzzle.</p>
            <button id="startTask7RealButton" class="task7-button">Start Main Task</button>
        </div>

        <div id="task-7-main" class="screen hidden">
            <h1>Deductive Reasoning Puzzle</h1>
            <div id="task7-main-question-container">
                <p id="task7-main-question-text"></p>
                <p>Select the two cards you need to turn over to test this rule:</p>
            </div>

            <div id="task7-main-cards-container" class="cards-container">
                <!-- Cards will be generated dynamically -->
            </div>

            <div id="task7-main-selection-info">
                <p>Selected cards: <span id="task7-main-selected-count">0</span>/2</p>
            </div>

            <button id="task7MainSubmitButton" class="task7-button" onclick="debugSubmitTask7()" disabled>Submit</button>
            
            <!-- Extra direct submit button as fallback -->
            <button id="task7DirectSubmitButton" class="task7-button" style="margin-top: 15px; background-color: #ff9800;" 
                    onclick="Task7Module.evaluateMainResponse();">
                Direct Submit (Use if regular button doesn't work)
            </button>
        </div>

        <div id="task-7-results" class="screen hidden">
            <h1>Task Results</h1>
            <p>You have completed the Deductive Reasoning Task.</p>
            <div id="task7-results-container">
                <p>Correct answers: <span id="task7-correct-count">0</span></p>
                <p>Total puzzles: <span id="task7-total-count">0</span></p>
                <p>Accuracy: <span id="task7-accuracy">0%</span></p>
            </div>
            <button id="completeTask7Button" class="task7-button" onclick="finishGame()">Complete Task</button>
        </div>
        
        <!-- Task 8: Ecological Deductive Reasoning -->
        <div id="task-8-intro" class="screen hidden">
            <h1>Task 8: Ecological Deductive Reasoning</h1>
            <p>In this task, you will be asked to solve logical puzzles using four cards that appear on the screen.</p>
            <p>Among the four cards presented, you will be required to identify which two cards to turn to test the logical premise presented in each question.</p>
            <p>In other words, in each game, there will be a simple rule, and all you have to do is work out which cards you need to turn over to see if the rule has been broken.</p>
            <button id="task8ContinueButton" class="button">Continue</button>
        </div>

        <div id="task-8-instructions" class="screen hidden">
            <h1>Instructions</h1>
            <p>For each question, you will see a logical rule and four cards.</p>
            <p>Your task is to select the two cards that need to be turned over to determine whether the rule is being followed or broken.</p>
            <p>Click on a card to select it. Click again to deselect.</p>
            <p>Let's start with a practice round.</p>
            <button id="startTask8PracticeButton" class="button">Start Practice</button>
        </div>

        <div id="task-8-practice" class="screen hidden">
            <h1>Practice Round</h1>
            <p>Select the two cards that need to be turned over to test the rule:</p>
            <p id="task8-practice-question-text">"If a person drinks an alcoholic drink, then they must be over the age of 21 years old."</p>
            
            <div id="task8-cards-container" class="cards-container">
                <!-- Cards will be added dynamically by JavaScript -->
            </div>
            
            <div class="task8-card-info">
                <p>Selected cards: <span id="task8-selected-count">0</span>/2</p>
            </div>

            <button id="task8SubmitButton" class="task8-button" onclick="task8SubmitPracticeAnswer()" disabled>Submit</button>
            
            <!-- Extra direct submit button as fallback -->
            <button id="task8DirectSubmitButton" class="task8-button" style="margin-top: 15px; background-color: #ff9800;" 
                    onclick="Task8Module.evaluatePracticeResponse();">
                Direct Submit (Use if regular button doesn't work)
            </button>
        </div>

        <div id="task-8-feedback" class="screen hidden">
            <h1>Practice Feedback</h1>
            <p id="task8-practice-result"></p>
            <p id="task8-practice-explanation"></p>
            <p>Now let's move on to the main task.</p>
            <button id="task8ContinueAfterFeedbackButton" class="button">Continue</button>
        </div>

        <div id="task-8-real-instructions" class="screen hidden">
            <h1>Main Task</h1>
            <p>Great! Now you'll solve several similar puzzles.</p>
            <p>Remember to select the two cards you need to turn over to test the rule.</p>
            <button id="startTask8RealButton" class="button">Start Task</button>
        </div>

        <div id="task-8-main" class="screen hidden">
            <h1>Ecological Deductive Reasoning Task</h1>
            <p>Select the two cards that need to be turned over to test the rule:</p>
            <p id="task8-main-question-text"></p>
            
            <div id="task8-main-cards-container" class="cards-container">
                <!-- Cards will be added dynamically by JavaScript -->
            </div>
            
            <div class="task8-card-info">
                <p>Selected cards: <span id="task8-main-selected-count">0</span>/2</p>
            </div>

            <button id="task8MainSubmitButton" class="task8-button" onclick="debugSubmitTask8()" disabled>Submit</button>
            
            <!-- Extra direct submit button as fallback -->
            <button id="task8DirectSubmitButton" class="task8-button" style="margin-top: 15px; background-color: #ff9800;" 
                    onclick="Task8Module.evaluateMainResponse();">
                Direct Submit (Use if regular button doesn't work)
            </button>
        </div>

        <div id="task-8-results" class="screen hidden">
            <h1>Task Results</h1>
            <p>You have completed the Ecological Deductive Reasoning Task.</p>
            <div id="task8-results-container">
                <p>Correct answers: <span id="task8-correct-count">0</span></p>
                <p>Total puzzles: <span id="task8-total-count">0</span></p>
                <p>Accuracy: <span id="task8-accuracy">0%</span></p>
            </div>
            <button id="completeTask8Button" class="task8-button" onclick="finishGame()">Complete Task</button>
        </div>

        <!-- Object Span Practice Feedback -->
        <div id="object-span-practice-feedback-main" class="screen hidden">
            <h2>Practice Feedback</h2>
            <p id="object-practice-feedback-text"></p>
            <div class="sequence-info">
                <p>Your response: <span id="object-user-response"></span></p>
                <p>Expected response: <span id="object-expected-response"></span></p>
                <p class="recall-mode-reminder">
                    <strong>Remember:</strong> 
                    <span id="object-recall-mode-instruction">
                        Type the objects in the <span class="object-mode-text"></span> order as shown
                    </span>
                </p>
            </div>
            <p id="object-practice-score"></p>
            <div class="practice-controls">
                <button id="object-continue-practice-button" class="button" onclick="window.directContinueObjectSpanPractice(); return false;">Continue Practice</button>
                <button id="object-ready-main-task-button" class="button" onclick="window.directReadyForObjectSpanMainTask(); return false;">I'm Ready for Main Task</button>
            </div>
        </div>

        <!-- Object Span Response Screen -->
        <div id="object-span-response-main" class="screen hidden">
            <div class="response-instruction">
                <p id="object-recall-instruction">Type the objects in the <span class="object-mode-text"></span> order</p>
            </div>
            <input type="text" id="object-response-input-main" class="response-input" style="width: 80%; max-width: 500px; padding: 10px; margin: 20px;" autocomplete="off" placeholder="Type the object names here...">
            <button id="object-submit-response-button" class="button">Submit</button>
    </div>

    <!-- Digit Span Practice Feedback -->
    <div id="digit-span-practice-feedback" class="screen hidden">
        <h2>Practice Feedback</h2>
        <p id="digit-practice-feedback-text"></p>
        <div class="sequence-info">
            <p>Your response: <span id="digit-user-response"></span></p>
            <p>Expected response: <span id="digit-expected-response"></span></p>
            <p class="recall-mode-reminder">
                <strong>Remember:</strong> 
                <span id="digit-recall-mode-instruction">
                    Type the digits in the <span class="mode-text"></span> order as shown
                </span>
            </p>
        </div>
        <p id="digit-practice-score"></p>
        <div class="practice-controls">
            <button id="continuePracticeButton-digit" class="button">Continue Practice</button>
            <button id="readyForMainTaskButton-digit" class="button" onclick="window.directReadyForDigitSpanMainTask(); return false;">I'm Ready for Main Task</button>
        </div>
    </div>

    <!-- Digit Span Forward Main Instructions -->
    <div id="digit-span-forward-main-instructions" class="screen hidden">
        <h2>Main Task Instructions</h2>
        <p>You will now begin the main task.</p>
        <ul>
            <li>You will see sequences of digits, one at a time</li>
            <li>Starting with 3 digits, the sequence will get longer as you progress</li>
            <li>You get two attempts at each sequence length</li>
            <li>If you succeed at least once, you'll move to a longer sequence</li>
            <li>If you fail both attempts, the task will end</li>
            <li>Your final score will be the longest sequence you correctly recalled</li>
            </ul>
        <div class="important-note">
            <p><strong>Remember:</strong> Type the digits in the <span class="important">SAME ORDER</span> as shown</p>
        </div>
        <button id="startDigitSpanForwardRealGameButton" class="button" style="cursor: pointer; pointer-events: auto;">Start Main Task</button>
    </div>

    <!-- Backward Digit Span Main Instructions -->
    <div id="digit-span-backward-main-instructions" class="screen hidden">
        <h2>Main Task Instructions</h2>
        <p>You will now begin the main task.</p>
        <ul>
            <li>You will see sequences of digits, one at a time</li>
            <li>Starting with 3 digits, the sequence will get longer as you progress</li>
            <li>You get two attempts at each sequence length</li>
            <li>If you succeed at least once, you'll move to a longer sequence</li>
            <li>If you fail both attempts, the task will end</li>
            <li>Your final score will be the longest sequence you correctly recalled</li>
        </ul>
        <div class="important-note">
            <p><strong>Remember:</strong> Type the digits in <span class="important">REVERSE ORDER</span> from how they appeared</p>
        </div>
        <button id="startDigitSpanBackwardRealGameButton" class="button" style="cursor: pointer; pointer-events: auto;">Start Main Task</button>
    </div>
    </div>
    <script src="script.js"></script>
    <script>
    // This ensures any continue button in the object span intro will work
    document.addEventListener('DOMContentLoaded', function() {
        const objectIntroScreen = document.getElementById('object-span-intro');
        if (objectIntroScreen) {
            const continueButtons = objectIntroScreen.querySelectorAll('button');
            continueButtons.forEach(button => {
                if (button.textContent.toLowerCase().includes('continue')) {
                    button.onclick = function() {
                        console.log('Special handler for continue button');
                        showScreen('object-span-example');
                    };
                }
            });
        }
    });
    </script>
</body>
</html>

